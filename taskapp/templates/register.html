<!DOCTYPE html>

<head>
	<!-- templatemo 418 form pack -->
    <!-- 
    Form Pack
    http://www.templatemo.com/preview/templatemo_418_form_pack 
    -->
	<title>Registration Form</title>
	<meta name="keywords" content="" />
	<meta name="description" content="" />
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link href="http://fonts.googleapis.com/css?family=Open+Sans:300,400,700" rel="stylesheet" type="text/css">
	<link href="/static/css/font-awesome.min.css" rel="stylesheet" type="text/css">
	<link href="/static/css/bootstrap.min.css" rel="stylesheet" type="text/css">
	<link href="/static/css/bootstrap-theme.min.css" rel="stylesheet" type="text/css">
	<link href="/static/css/templatemo_style.css" rel="stylesheet" type="text/css">
  <style>
    span{
      color:red;
      font-weight: bold;
    }
  </style>
</head>
<body class="templatemo-bg-image-2">
	<div class="container">
		<div class="col-md-12">			
			<form class="form-horizontal templatemo-contact-form-1" id="registerdata" role="form" >
        {% csrf_token %}
        <div class="form-group">
					<div class="col-md-12">
						<h1 class="margin-bottom-15">Registration Form</h1>
					</div>
				</div>				
		        <div class="form-group">
		          <div class="col-md-12">		          	
		            <label for="name" class="control-label">First Name *</label>
		            <div class="templatemo-input-icon-container">
		            	<input type="text" class="form-control" id="first_name" name="first_name" placeholder="First Name">
		            </div>	
                <span class='first_name_error error'></span>	            		            		            
		          </div>              
		        </div>
                <div class="form-group">
                    <div class="col-md-12">		          	
                      <label for="name" class="control-label">Last Name *</label>
                      <div class="templatemo-input-icon-container">
                          <input type="text" class="form-control" id="last_name" name="last_name" placeholder="Last Name">
                      </div>		            		            		            
                      <span class='last_name_error error'></span>
                    </div>              
                  </div>
		        <div class="form-group">
		          <div class="col-md-12">
		            <label for="email" class="control-label">Email *</label>
		            <div class="templatemo-input-icon-container">
		            	<input type="text" class="form-control" id="email" name="email" placeholder="Email">
		            </div>
                <span class='email_error error'></span>
		          </div>
		        </div>
                <div class="form-group">
                    <div class="col-md-12">
                      <label for="mobile" class="control-label">Mobile No *</label>
                      <div class="templatemo-input-icon-container">
                          <input type="text" class="form-control" id="mobile" name="mobile" placeholder="Mobile No">
                      </div>
                      <span class='mobile_error error'></span>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-md-12">
                      <label for="dob" class="control-label">Date Of Birth *</label>
                      <div class="templatemo-input-icon-container">
                          <input type="date"  id="dob" name="dob" placeholder="Date Of Birth">
                      </div>
                      <span class='dob_error error'></span>
                    </div>
                </div>

                <div class="form-group">
                    <div class="col-md-12">
                      <label for="hobbies" class="control-label" name="hobbies" id="hobbies">Hobbies *</label>
                      <div class="templatemo-input-icon-container">
                        <input type="checkbox" id="playing" name="hobbies[]" value="Playing">
                        <label for="hobbies1"> Playing</label><br>
                        <input type="checkbox" id="travelling" name="hobbies[]" value="Travelling">
                        <label for="hobbies2"> Travelling</label><br>
                        <input type="checkbox" id="driving" name="hobbies[]" value="Driving">
                        <label for="hobbies3"> Driving</label><br>
                      </div>
                      <span class='hobbies_error error'></span>
                    </div>
                </div>
              
                <div class="form-group">
                    <div class="col-md-12">
                      <label for="password" class="control-label">Password *</label>
                      <div class="templatemo-input-icon-container">
                          <input type="password" class="form-control" id="password" name="password" placeholder="Password">
                      </div>
                      <span class='password_error error'></span>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-md-12">
                      <label for="cpassword" class="control-label">Confirm Password *</label>
                      <div class="templatemo-input-icon-container">
                          <input type="password" class="form-control" id="cpassword" name="cpassword" placeholder="Confirm Password">
                      </div>
                      <span class='cpassword_error error'></span>
                    </div>
                </div>
		        
		        <div class="form-group">
		          <div class="col-md-12">
		            <input type="submit" value="Submit" class="btn btn-success pull-right">
		          </div>
		        </div>		    	
		      </form>		      
		</div>
	</div>
  <!--Start of Tawk.to Script-->
<script type="text/javascript">
var Tawk_API=Tawk_API||{}, Tawk_LoadStart=new Date();
(function(){
var s1=document.createElement("script"),s0=document.getElementsByTagName("script")[0];
s1.async=true;
s1.src='https://embed.tawk.to/669a400e32dca6db2cb212d7/1i358kesi';
s1.charset='UTF-8';
s1.setAttribute('crossorigin','*');
s0.parentNode.insertBefore(s1,s0);
})();
</script>
<!--End of Tawk.to Script-->
</body>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <script>
    var csrftoken = $('[name=csrfmiddlewaretoken]').val();
    $("#registerdata").submit(function (e) {
      e.preventDefault();
      var hobbies = []; 
      $("input[name='hobbies[]']:checked").each(function () {
        hobbies.push($(this).val()); 
      });
      $('.first_name_error').html('')
      $('.last_name_error').html('')
      $('.email_error').html('')
      $('.dob_error').html('')
      $('.mobile_error').html('')
      $('.hobbies_error').html('')
      $('.password_error').html('')
      $('.cpassword_error').html('')

      $.ajax({
        url: "/register/",
        type: "POST",
        
        //headers: {
          //'X-CSRFToken': csrftoken
        //},
        data: {
          csrfmiddlewaretoken: csrftoken, 
          first_name: $("#first_name").val(),
          last_name: $("#last_name").val(),
          email: $("#email").val(),
          mobile: $("#mobile").val(),
          dob: $("#dob").val(),
          password: $("#password").val(),
          cpassword: $("#cpassword").val(),
          hobbies: hobbies       
        },
        success: function (response) {
          setTimeout(() => { 
            window.location.href= '/login/'},1000)
        },
        error: function (response) {
          $('.first_name_error').html(response.responseJSON.errors.first_name)
          $('.last_name_error').html(response.responseJSON.errors.last_name)
          $('.email_error').html(response.responseJSON.errors.email)
          $('.dob_error').html(response.responseJSON.errors.dob)
          $('.mobile_error').html(response.responseJSON.errors.mobile)
          $('.hobbies_error').html(response.responseJSON.errors.hobbies)
          $('.password_error').html(response.responseJSON.errors.password)
          $('.cpassword_error').html(response.responseJSON.errors.cpassword)
        },
      });
    });
  </script>

</html>